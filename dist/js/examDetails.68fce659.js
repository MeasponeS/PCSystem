(function(t){function e(e){for(var i,a,r=e[0],c=e[1],u=e[2],l=0,d=[];l<r.length;l++)a=r[l],o[a]&&d.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={examDetails:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var p=c;s.push([5,"chunk-vendors","chunk-common"]),n()})({5:function(t,e,n){t.exports=n("7253")},"51e7":function(t,e,n){},7253:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Head",{attrs:{activeUrl:"exam",companyName:t.ORGINFO.orgName,info:t.USERINFO,msgCount:t.MSGCOUNT}}),n("div",{staticClass:"main-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"content clearfix"},[n("div",{staticClass:"left"},[n("div",{staticClass:"l-top"},[n("div",[n("Breadcrumb",{attrs:{nav:[{url:"./exam.html",name:"考试",width:250},{url:"javascript:;",name:t.examInfo.testingName,width:250}]}})],1),t.examInfo.status<=0?n("div",{staticClass:"exam-time"},[n("Countdown",{attrs:{second:t.examInfo.timeLength},on:{toggle:function(e){t.examInfo.timeLength--},end:t.compelSubmitAnswer}})],1):t._e()]),n("div",{staticClass:"do"},[n("div",{staticClass:"do-top"},[n("div",{staticClass:"do-title"},[t._v("第"+t._s(t.topicIndex(t.activeQuestionIndex))+"题/共"+t._s(t.topicTotal)+"题")]),n("div",{staticClass:"children-topic"},[1!=t.topics[t.activeQuestionIndex].newType?n("ul",t._l(t.topicIndex(t.activeQuestionIndex,!0),function(e,i){return n("li",{class:{active:t.isA3A4B1Done(i)},on:{click:function(n){t.positioning(e)}}},[t._v(t._s(e))])})):t._e()]),n("ul",{staticClass:"do-action"},[t.examInfo.status>0?n("li",{on:{click:t.lookAnswer}},[t._v("查看答案")]):t._e(),n("li",{on:{click:t.previousTopic}},[t._v("上一题")]),n("li",{on:{click:t.nextTopic}},[t._v("下一题")])])]),n("DoTopic",{attrs:{isHistory:t.examInfo.status>0,topic:t.topics[t.activeQuestionIndex]}})],1)]),n("div",{staticClass:"right"},[n("div",{staticClass:"r-top"},[t._v("\n                        题目列表\n                    ")]),n("div",{staticClass:"checkpoint"},[n("ul",t._l(t.topics,function(e,i){return n("li",{staticClass:"li",class:{active:t.activeQuestionIndex==i},on:{click:function(e){t.activeQuestionIndex=i}}},[n("RectProgress",{attrs:{progress:t.rectProgress(e)}}),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("第"+t._s(t.topicIndex(i))+"题")])],1)}))]),n("div",{staticStyle:{padding:"25px"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.confirmSubmitAnswer}},[t._v(" 提交试卷 ")])],1)])])]),n("AnswersPopup",{attrs:{topicIndex:t.topicIndex(t.activeQuestionIndex,!0),topic:t.topics[t.activeQuestionIndex]},model:{value:t.answersPopup,callback:function(e){t.answersPopup=e},expression:"answersPopup"}})],1),n("Footer")],1)},s=[],a=(n("ac6a"),n("9541")),r=n("a599"),c=n("43a7"),u=n("635f"),p=n("dbcb"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"countdown"},[t._v("\n    "+t._s(t.time)+"\n")])},d=[],f=(n("c5f6"),{name:"Countdown",props:{second:Number},data:function(){return{time:"00:00:00"}},mounted:function(){var t=this;if(0!=this.second){var e=this.second;window.Countdown=setInterval(function(n){if(e<=0)return t.$emit("end"),void clearInterval(window.Countdown);e--,t.$emit("toggle");var i=Math.floor(e/3600),o=Math.floor(e%3600/60),s=Math.floor(e%60);t.time=(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)+":"+(s<10?"0"+s:s)},1e3)}}}),m=f,h=(n("b28b"),n("2877")),v=Object(h["a"])(m,l,d,!1,null,"2ca21ee4",null);v.options.__file="Countdown.vue";var w=v.exports,x=n("39f0"),I=n("335a"),g=n("3439"),y={name:"app",mixins:[a["a"]],data:function(){return{topics:[{newType:1,questionId:0,analyisis:"",index:1,typeB:1,answer:[],questionResult:[],name:"",historyAnswer:[]}],examInfo:{testingId:"",paperId:"",utpId:"",timeLength:0,paperSum:"",testingName:0,status:""},takeTime:0,activeQuestionIndex:0,answersPopup:!1}},methods:{isA3A4B1Done:function(t){var e=this.topics[this.activeQuestionIndex];return 3==e.newType?0!=e.a3a4Questions[t].historyAnswer.length:5==e.newType?0!=e.questionArr[t].historyAnswer.length:void 0},compelSubmitAnswer:function(){var t=this;this.submitAnswer(function(e){t.$confirm("考试时间已到，已自动提交答案","提示",{confirmButtonText:"确定",showCancelButton:!1,cancelButtonText:"",type:"warning"}).then(function(){window.location.href="./exam.html"}).catch(function(){window.location.href="./exam.html"})})},confirmSubmitAnswer:function(){var t=this;this.$confirm("确认提交答案？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.submitAnswer(!1)}).catch(function(){})},submitAnswer:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.topics,i={testingId:this.examInfo.testingId,paperId:this.examInfo.paperId,utpId:this.examInfo.utpId,takeTime:this.takeTime,answers:{}};n.forEach(function(t){1!=t.newType?3!=t.newType?5!=t.newType||t.questionArr.forEach(function(t){i.answers[t.questionId]=t.historyAnswer.join("")}):t.a3a4Questions.forEach(function(t){i.answers[t.questionId]=t.historyAnswer.join("")}):i.answers[t.questionId]=t.historyAnswer.join("")}),Object(x["a"])(i).then(function(n){I["a"].remove(g["a"].storageExamInfoKey),e?e():(t.$message({message:"试卷提交成功",type:"success"}),setTimeout(function(t){window.location.href="./exam.html"},500))}).catch(function(t){})},lookAnswer:function(){this.answersPopup=!0},positioning:function(t){this.$nextTick(function(e){var n=document.getElementById(t).offsetTop;window.scrollTo(0,n-110)})},previousTopic:function(){if(this.activeQuestionIndex<=0)return this.$message("已经是第一题了"),void(this.activeQuestionIndex=0);this.activeQuestionIndex--},nextTopic:function(){var t=this.topics.length;if(this.activeQuestionIndex>=t-1)return this.$message("已经是最后一题了"),void(this.activeQuestionIndex=t-1);this.activeQuestionIndex++},rectProgress:function(t){if(1==t.newType)return 0===t.historyAnswer.length?0:100;var e=0;if(3==t.newType){for(var n=t.a3a4Questions.length,i=0;i<n;i++)0!=t.a3a4Questions[i].historyAnswer.length&&(e+=100/n);return e}if(5==t.newType){for(var o=t.questionArr.length,s=0;s<o;s++)0!=t.questionArr[s].historyAnswer.length&&(e+=100/o);return e}return 0},topicIndex:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.topics[t];if(1==n.newType)return e?[n.index]:n.index;if(3==n.newType){var i=n.a3a4Questions[0].index;if(e){var o=[];return n.a3a4Questions.forEach(function(t){o.push(t.index)}),o}return i+"~"+(i+(n.a3a4Questions.length-1))}return 5==n.newType?e?n.indexs:n.indexs[0]+"~"+n.indexs[n.indexs.length-1]:void 0}},created:function(){var t=I["a"].get(g["a"].storageExamInfoKey);if(t){this.topics=t.topics;var e=t.examInfo;this.examInfo={testingId:e.testingId,paperId:e.paperId,timeLength:e.timeLength,paperSum:e.paperSum,utpId:e.utpId,testingName:e.testingName,status:e.status},t.hasOwnProperty("takeTime")&&(this.takeTime=t.takeTime),t.hasOwnProperty("activeQuestionIndex")&&(this.activeQuestionIndex=t.activeQuestionIndex)}else window.location.href="./exam.html"},mounted:function(){var t=this;t.takeTime=0,setInterval(function(e){t.takeTime+=5,I["a"].set(g["a"].storageExamInfoKey,{examInfo:t.examInfo,topics:t.topics,takeTime:t.takeTime})},5e3)},computed:{topicTotal:function(){return this.examInfo.paperSum}},beforeDestroy:function(){},components:{Breadcrumb:u["a"],DoTopic:r["a"],RectProgress:c["a"],AnswersPopup:p["a"],Countdown:w}},b=y,T=Object(h["a"])(b,o,s,!1,null,null,null);T.options.__file="Index.vue";var _=T.exports;n("51e7"),n("b7f1"),n("b419");new i["default"]({render:function(t){return t(_)}}).$mount("#app")},a604:function(t,e,n){},b28b:function(t,e,n){"use strict";var i=n("a604"),o=n.n(i);o.a}});
//# sourceMappingURL=examDetails.68fce659.js.map