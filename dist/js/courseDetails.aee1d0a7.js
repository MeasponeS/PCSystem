(function(e){function t(t){for(var c,s,i=t[0],o=t[1],u=t[2],h=0,p=[];h<i.length;h++)s=i[h],a[s]&&p.push(a[s][0]),a[s]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],c=!0,i=1;i<r.length;i++){var o=r[i];0!==a[o]&&(c=!1)}c&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var c={},a={courseDetails:0},n=[];function s(t){if(c[t])return c[t].exports;var r=c[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=c,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(r,c,function(t){return e[t]}.bind(null,c));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=o;n.push([2,"chunk-vendors","chunk-common"]),r()})({"0014":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var c=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Head",{attrs:{companyName:e.ORGINFO.orgName,info:e.USERINFO,msgCount:e.MSGCOUNT}}),r("div",{staticClass:"container main-body clearfix"},[r("NoLearningCard",{attrs:{hasCloseActive:!0,phone:e.ORGINFO.phone},on:{clickClose:e.closeCard},model:{value:e.noLearningCard,callback:function(t){e.noLearningCard=t},expression:"noLearningCard"}}),r("OpenLearningCard",{attrs:{phone:e.ORGINFO.phone},on:{success:e.success},model:{value:e.OpenLearningCard,callback:function(t){e.OpenLearningCard=t},expression:"OpenLearningCard"}}),r("div",{staticClass:"left"},[r("div",{staticClass:"nav"},[e.course.length?r("Breadcrumb",{staticClass:"lessson",attrs:{nav:[{url:"./study.html",name:e.packageName},{url:"./study.html",name:e.currentCourseName},{url:"javascript:;",name:e.currentChapterName}]}}):e._e(),r("p",{staticClass:"nav-act"},[this.courseId?r("a",{attrs:{href:"javascript:;"},on:{click:e.addCol}},[e._v(e._s(e.col))]):e._e(),this.courseId?r("span"):e._e(),this.courseId?r("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.$refs.sidebar.previousChapter()}}},[e._v("上一节")]):e._e(),this.courseId?r("span"):e._e(),this.courseId?r("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.$refs.sidebar.nextChapter()}}},[e._v("下一节")]):e._e()])],1),r("div",{staticClass:"letf-content"},[""!=e.videoUrl?r("video",{attrs:{src:e.videoUrl,id:"myVideo",preload:"",width:"784",controls:"true",controlslist:"nodownload"}}):e._e(),r("p",{staticClass:"html-info",domProps:{innerHTML:e._s(e.context)}})])]),r("div",{staticClass:"right"},[r("p",[e._v("选择课程"),r("span",[e._v("(共"+e._s(e.course.length)+"门课程)")])]),r("div",{staticClass:"accordion"},[r("el-select",{staticClass:"select-course",attrs:{placeholder:"请选择课程"},on:{change:function(t){e.getChapters(e.currentCourseId)}},model:{value:e.currentCourseId,callback:function(t){e.currentCourseId=t},expression:"currentCourseId"}},e._l(e.course,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id+""}})})),r("div",{staticClass:"now"},[this.chapterId?r("span",[e._v(" 当前课程章节")]):e._e()]),0!=e.sub?r("Sidebar",{ref:"sidebar",attrs:{chapters:e.chapters,activeAry:e.activeAry},on:{selectChapter:e.selectChapter}}):r("SidebarTwo",{ref:"sidebar",attrs:{activeAry:e.activeAry,chapters:e.chapters},on:{selectChapter:e.selectChapter}})],1)])],1),r("Footer")],1)},n=[],s=(r("673e"),r("7f7f"),r("ac6a"),r("9541")),i=r("4bfb"),o=r("9690"),u={data:function(){return{ResidenceTime:0,ReportData:{coursePackId:"",courseId:"",chapterId:"",videoTime:0,type:1,reportType:1}}},create:function(){},methods:{report:function(e,t,r){this.ResidenceTime=0,this.ReportData.coursePackId=e+"",this.ReportData.courseId=t+"",this.ReportData.chapterId=r+"";var c=document.querySelector("video");c?(this.ReportData.type=2,this.ReportData.reportType=2):(this.ReportData.type=1,this.ReportData.reportType=1)},computeFinish:function(){var e=document.querySelector("video");if(!e||!e.duration)return 1;var t=parseInt(e.duration/60),r=this.ResidenceTime;return t<10?r>.5*e.duration?1:0:10<t<15?r>.6*e.duration?1:0:15<t<20?r>.7*e.duration?1:0:t>20?r>.8*e.duration?1:0:void(this.videoTime=e.duration)},initResidenceTime:function(){var e=this;this.ResidenceTime=0,setInterval(function(){e.ResidenceTime++},1e3)},ReportRequest:function(){var e=Object(o["a"])(this.ReportData);e.orgId=this.ORGINFO.id,e.takeTime=60,1==e.type||(e.videoTime=60,e.status=this.computeFinish()),e.status=this.computeFinish(),Object(i["h"])(e).then(function(e){}).catch(function(e){})}},mounted:function(){var e=this;this.initResidenceTime(),setInterval(function(t){e.ReportRequest()},1e4)},beforeDestroy:function(){},components:{}},d=r("635f"),h=r("6b14"),p=r("2ab5"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"course-details-sidebar chapter-list",attrs:{id:"sidebar"}},[r("ul",e._l(e.chapters,function(t,c){return r("li",{key:c,class:e.collapseIndex==c?"open":"close"},[r("div",{staticClass:"chapter",class:{active:e.activeChapterIndex.chapter==c},on:{click:function(t){e.collapseIndex=c}}},[e._v("\n                "+e._s(c+1)+". "+e._s(t.name)+"\n            ")]),r("div",{staticClass:"sub-chapter-list"},[r("ul",e._l(t.sub,function(a,n){return r("li",{key:n,class:{active:e.activeChapterIndex.chapter==c&&e.activeChapterIndex.subChapter==n},on:{click:function(r){e.selectChapter(c,n,t.id,a)}}},[r("div",{staticClass:"sub-chapter"},[r("div",{staticClass:"sub-chapter-content"},[r("div",{staticClass:"top"},[0==a.vipType?r("div",{staticClass:"free"},[e._v("免费")]):e._e(),r("div",{staticClass:"title"},[e._v(e._s(c+1)+"."+e._s(n+1)+"."+e._s(a.name))])]),r("div",{staticClass:"info"},[r("span",{staticClass:"fl"},[e._v(e._s(a.studySize)+"人学过")])])])])])}))])])}))])},I=[],f=r("0ad9"),C={name:"Sidebar",props:{chapters:Array,activeAry:String},data:function(){return{collapseIndex:0,activeChapterIndex:{chapter:0,subChapter:0},chapterId:"",courseId:""}},mounted:function(){this.chapterId=Object(f["e"])("chapterId"),this.courseId=Object(f["e"])("courseId"),this.collapseIndex=this.activeAry,this.activeChapterIndex.chapter=this.activeAry},methods:{previousChapter:function(){var e=this.activeChapterIndex.chapter,t=this.activeChapterIndex.subChapter,r=this.collapseIndex;if(0!=e||0!=t){0==t?(e--,r--,t=this.chapters[e].sub.length-1):(r!=e&&(r=e),t--);var c=this.chapters[e].id,a=this.chapters[e].sub[t];this.selectChapter(e,t,c,a,r)}else this.$message("已经是第一章了")},nextChapter:function(){var e=this.activeChapterIndex.chapter,t=this.activeChapterIndex.subChapter,r=this.collapseIndex;if(e+1!=this.chapters.length||t+1!=this.chapters[e].sub.length){t==this.chapters[e].sub.length-1?(e++,r++,t=0):(r!=e&&(r=e),t++);var c=this.chapters[e].id,a=this.chapters[e].sub[t];this.selectChapter(e,t,c,a,r)}else this.$message("已经是最后一章了")},selectChapter:function(e,t,r,c){var a=this,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=this.activeChapterIndex.chapter,i=this.activeChapterIndex.subChapter;s==e&&i==t||this.$emit("selectChapter",{chapterId:r,subChapterId:c},function(r){a.activeChapterIndex.chapter=e,a.activeChapterIndex.subChapter=t,null!=n&&(a.collapseIndex=n,setTimeout(function(r){var c=document.querySelectorAll("#sidebar>ul>li"),a=c[e].querySelectorAll("ul");a[0].scroll(0,75*t)},200))})}}},v=C,b=(r("c72e"),r("2877")),g=Object(b["a"])(v,l,I,!1,null,"54419506",null);g.options.__file="Sidebar.vue";var m=g.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"course-details-sidebar chapter-list",attrs:{id:"sidebar"}},[r("ul",e._l(e.chapters,function(t,c){return r("li",{key:c,class:e.collapseIndex==c?"open":"close",on:{click:function(r){e.selectChapter(c,t)}}},[r("div",{staticClass:"chapter",class:{active:e.activeChapterIndex.chapter==c},on:{click:function(t){e.collapseIndex=c}}},[e._v("\n                "+e._s(c+1)+". "+e._s(t.name)+"\n            ")])])}))])},O=[],k={name:"Sidebar",props:{chapters:Array},data:function(){return{collapseIndex:0,activeChapterIndex:{chapter:0},chapterId:"",courseId:""}},mounted:function(){this.chapterId=Object(f["e"])("chapterId"),this.courseId=Object(f["e"])("courseId")},methods:{previousChapter:function(){var e=this.activeChapterIndex.chapter,t=this.collapseIndex;0==e?this.$message("已经是第一章了"):(e--,t--),t!=e&&(t=e);var r=this.chapters[e];this.selectChapter(e,r,t)},nextChapter:function(){var e=this.activeChapterIndex.chapter,t=this.collapseIndex;if(e+1!=this.chapters.length){e++,t++;var r=this.chapters[e];this.selectChapter(e,r,t)}else this.$message("已经是最后一章了")},selectChapter:function(e,t){var r=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.activeChapterIndex.chapter;a!=e&&this.$emit("selectChapter",{chapterId:t.id},function(t){r.activeChapterIndex.chapter=e,null!=c&&(r.collapseIndex=c)})}}},x=k,j=(r("24ba"),Object(b["a"])(x,y,O,!1,null,"5ce05472",null));j.options.__file="SidebarTwo.vue";var _=j.exports,T=r("2934"),L={name:"app",mixins:[s["a"],u],data:function(){return{chapters:[],course:[],chapterId:"",courseId:"",currentCourseId:"",currentChapter:"",currentChapterId:"",subChapterId:"",context:"",sub:"",packageName:"",packageId:"",videoUrl:"",videoUrlCode:"",col:"收藏",hasStudyCard:"",noLearningCard:!1,OpenLearningCard:!1,type:"",activeAry:""}},computed:{currentCourseName:function(){var e=this;if(0==this.course.length||!this.currentCourseId)return"";var t="";return this.course.forEach(function(r){r.id!=e.currentCourseId||(t=r.name)}),t},currentChapterName:function(){var e=this;if(0==this.chapters.length||!this.currentChapterId)return"";var t=this.currentCourseName;return this.chapters.forEach(function(r){r.id!=e.currentChapterId||(t=r.name)}),t}},methods:{success:function(){this.OpenLearningCard=!1,window.location.href="./study.html"},closeCard:function(){window.location.href="./study.html"},selectChapter:function(e,t){var r=this;e.subChapterId?0==e.subChapterId.vipType?(this.subChapterId=e.subChapterId.id,1==e.subChapterId.courseType?Object(i["a"])({chapterId:e.subChapterId.id,courseId:this.currentCourseId}).then(function(c){r.report(r.packageId,r.currentCourseId,e.subChapterId.id),r.context=c.contentData,r.videoUrl=c.videoUrl,0==c.isfavor?r.col="取消收藏":r.col="收藏",t(),r.currentChapterId=e.chapterId}).catch(function(e){}):Object(i["f"])({chapterId:e.subChapterId.id}).then(function(c){r.context=c.context,r.videoUrl=c.videoPath,0==c.isFavor?r.col="取消收藏":r.col="收藏",t(),r.currentChapterId=e.chapterId}).catch(function(e){})):this.USERINFO?this.hasStudyCard?(this.subChapterId=e.subChapterId.id,1==e.subChapterId.courseType?Object(i["a"])({chapterId:e.subChapterId.id,courseId:this.currentCourseId}).then(function(c){r.report(r.packageId,r.currentCourseId,e.subChapterId.id),r.context=c.contentData,r.videoUrl=c.videoUrl,0==c.isfavor?r.col="取消收藏":r.col="收藏",t(),r.currentChapterId=e.chapterId}).catch(function(e){}):Object(i["f"])({chapterId:e.subChapterId.id}).then(function(c){r.context=c.context,r.videoUrl=c.videoPath,0==c.isFavor?r.col="取消收藏":r.col="收藏",t(),r.currentChapterId=e.chapterId}).catch(function(e){})):Object(i["c"])({packId:this.packageId}).then(function(e){0==e?r.noLearningCard=!0:r.OpenLearningCard=!0}).catch(function(e){}):window.location.href="./login.html":this.hasStudyCard?Object(i["a"])({chapterId:e.chapterId,courseId:this.currentCourseId}).then(function(c){r.context=c.contentData,r.videoUrl=c.videoUrl,r.report(r.packageId,r.currentCourseId,e.chapterId),0==c.isfavor?r.col="取消收藏":r.col="收藏",t(),r.currentChapterId=e.chapterId}).catch(function(e){}):Object(i["c"])({packId:this.packageId}).then(function(e){0==e?r.noLearningCard=!0:r.OpenLearningCard=!0}).catch(function(e){})},getChapters:function(e){var t=this;Object(i["b"])({courseId:e,coursePackId:this.packageId}).then(function(e){t.chapters=e.chapters,t.hasStudyCard=e.studyCard,t.sub=e.chapters[0].sub.length}).catch(function(e){})},addCol:function(){var e=this;""==this.videoUrl?this.videoUrlCode="1":this.videoUrlCode="0";var t=this.subChapterId||this.chapterId,r="0";r=t?"0":"2";var c={type:r,leveId:"0",courseId:this.currentCourseId,isVedio:this.videoUrlCode,chapterQuestionId:this.subChapterId||this.currentChapterId||"0",packageId:this.packageId};Object(T["c"])(c).then(function(t){e.col=0==t?"取消收藏":"收藏"}).catch(function(e){})}},mounted:function(){var e=this;this.type=Object(f["e"])("type"),this.chapterId=Object(f["e"])("chapterId"),this.courseId=Object(f["e"])("courseId"),this.packageId=Object(f["e"])("id"),this.packageName=Object(f["e"])("name"),this.packageName=decodeURI(this.packageName,"UTF-8"),1==this.type?(this.currentCourseId=this.courseId,this.currentChapterId=this.chapterId,this.activeAry=this.chapterId,Object(i["a"])({chapterId:this.currentChapterId,courseId:this.currentCourseId}).then(function(t){e.report(e.packageId,e.currentCourseId,e.currentChapterId),e.context=t.contentData,0==t.isfavor?e.col="取消收藏":e.col="收藏"}).catch(function(e){}),Object(i["d"])({coursePackId:this.packageId}).then(function(t){e.course=t.courseList}).catch(function(e){}),Object(i["b"])({courseId:this.currentCourseId,coursePackId:this.packageId}).then(function(t){e.chapters=t.chapters,e.hasStudyCard=t.studyCard,e.sub=t.chapters[0].sub.length}).catch(function(e){})):Object(f["e"])("chapterId")&&Object(f["e"])("courseId")?(this.currentCourseId=this.courseId,this.currentChapterId=this.chapterId,Object(i["a"])({chapterId:this.chapterId,courseId:this.currentCourseId}).then(function(t){e.report(e.packageId,e.currentCourseId,e.currentChapterId),e.context=t.contentData,0==t.isfavor?e.col="取消收藏":e.col="收藏"}).catch(function(e){}),Object(i["d"])({coursePackId:this.packageId}).then(function(t){e.course=t.courseList}).catch(function(e){}),Object(i["b"])({courseId:this.courseId,coursePackId:this.packageId}).then(function(t){e.chapters=t.chapters,e.hasStudyCard=t.studyCard,e.sub=t.chapters[0].sub.length}).catch(function(e){})):Object(i["d"])({coursePackId:this.packageId}).then(function(t){e.course=t.courseList,e.courseId=t.courseList[0].id+"",e.currentCourseId=t.courseList[0].id+"",2==t.courseList[0].courseType?Object(i["b"])({courseId:e.currentCourseId,coursePackId:e.packageId}).then(function(t){e.chapters=t.chapters,e.hasStudyCard=t.studyCard,e.hasStudyCard?1==t.chapters[0].courseType?Object(i["a"])({chapterId:null,courseId:e.currentCourseId}).then(function(t){e.report(e.packageId,e.currentCourseId,null),e.context=t.contentData,0==t.isfavor?e.col="取消收藏":e.col="收藏"}).catch(function(e){}):(e.currentChapterId=t.chapters[0].sub[0].id,e.sub=t.chapters[0].sub.length,Object(i["a"])({chapterId:null,courseId:e.currentCourseId}).then(function(t){e.report(e.packageId,e.currentCourseId,null),e.context=t.contentData,0==t.isfavor?e.col="取消收藏":e.col="收藏"}).catch(function(e){})):1==t.chapters[0].courseType?Object(i["c"])({packId:e.packageId}).then(function(t){0==t?e.noLearningCard=!0:e.OpenLearningCard=!0}).catch(function(e){}):(e.currentChapterId=t.chapters[0].sub[0].id,Object(i["b"])({courseId:e.courseId,coursePackId:e.packageId}).then(function(t){e.chapters=t.chapters,e.sub=t.chapters[0].sub.length}).catch(function(e){}),0==t.chapters[0].sub[0].vipType?Object(i["a"])({chapterId:e.currentChapterId,courseId:e.currentCourseId}).then(function(t){e.report(e.packageId,e.currentCourseId,e.currentChapterId),e.context=t.contentData,0==t.isfavor?e.col="取消收藏":e.col="收藏"}).catch(function(e){}):Object(i["c"])({packId:e.packageId}).then(function(t){0==t?e.noLearningCard=!0:e.OpenLearningCard=!0}).catch(function(e){}))}).catch(function(e){}):1==t.courseList[0].vipType?Object(i["c"])({packId:e.packageId}).then(function(t){1==t?e.noLearningCard=!0:e.OpenLearningCard=!0}).catch(function(e){}):Object(i["a"])({courseId:e.currentCourseId}).then(function(t){e.report(e.packageId,e.currentCourseId,null),e.context=t.contentData,0==t.isfavor?e.col="取消收藏":e.col="收藏"}).catch(function(e){})}).catch(function(e){})},beforeDestroy:function(){},components:{Breadcrumb:d["a"],Sidebar:m,SidebarTwo:_,NoLearningCard:h["a"],OpenLearningCard:p["a"]}},S=L,R=Object(b["a"])(S,a,n,!1,null,null,null);R.options.__file="Index.vue";var w=R.exports;r("86fa"),r("b7f1"),r("b419");new c["default"]({render:function(e){return e(w)}}).$mount("#app")},2:function(e,t,r){e.exports=r("0014")},"24ba":function(e,t,r){"use strict";var c=r("2f48"),a=r.n(c);a.a},"2f48":function(e,t,r){},"3d83":function(e,t,r){},"86fa":function(e,t,r){},c72e:function(e,t,r){"use strict";var c=r("3d83"),a=r.n(c);a.a}});
//# sourceMappingURL=courseDetails.aee1d0a7.js.map