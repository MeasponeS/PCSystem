(function(t){function e(e){for(var i,r,a=e[0],c=e[1],u=e[2],p=0,d=[];p<a.length;p++)r=a[p],s[r]&&d.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={examHistory:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([5,"chunk-vendors","chunk-common"]),n()})({"20c7":function(t,e,n){},"286d":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Head",{attrs:{activeUrl:"exam",companyName:t.ORGINFO.orgName,info:t.USERINFO,msgCount:t.MSGCOUNT}}),n("div",{staticClass:"main-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"content clearfix"},[n("div",{staticClass:"left"},[n("div",{staticClass:"l-top"},[n("Breadcrumb",{attrs:{nav:[{url:"./exam.html",name:"考试",width:250},{url:"./examResults.html?testingId="+t.examInfo.testingId+"&paperId="+t.examInfo.paperId,name:t.examInfo.name},{url:"javascript:;",name:"详情"}]}})],1),0!=t.topics.length?n("div",{staticClass:"do"},[n("div",{staticClass:"do-top"},[n("div",{staticClass:"do-title"},[t._v("第"+t._s(t.topicIndex(t.activeQuestionIndex))+"题/共 "+t._s(t.examInfo.topicCount)+" 题")]),n("div",{staticClass:"children-topic"},[1!=t.topics[t.activeQuestionIndex].newType?n("ul",t._l(t.topicIndex(t.activeQuestionIndex,!0),function(e,i){return n("li",{class:{active:t.isA3A4B1Done(i)},on:{click:function(n){t.positioning(e)}}},[t._v(t._s(e))])})):t._e()]),n("ul",{staticClass:"do-action"},[n("li",{on:{click:t.lookAnswer}},[t._v("查看答案")]),n("li",{on:{click:t.previousTopic}},[t._v("上一题")]),n("li",{on:{click:t.nextTopic}},[t._v("下一题")])])]),n("DoTopic",{attrs:{isHistory:!0,topic:t.topics[t.activeQuestionIndex]},on:{selectOption:t.selectOption}}),n("AnswersPopup",{attrs:{topicIndex:t.topicIndex(t.activeQuestionIndex,!0),topic:t.topics[t.activeQuestionIndex]},model:{value:t.answersPopup,callback:function(e){t.answersPopup=e},expression:"answersPopup"}})],1):n("EmptyTemplate",{attrs:{msg:"暂无习题集"}})],1),n("div",{staticClass:"right"},[n("div",{staticClass:"r-top"},[n("div",[t._v("\n                            列表\n                        ")]),n("div",{staticClass:"toggle"},[n("span",{staticClass:"tab",class:{active:"all"==t.type},on:{click:function(e){t.clickStudy("all")}}},[t._v("全部")]),n("span",{staticClass:"line"}),n("span",{staticClass:"tab",class:{active:"right"==t.type},on:{click:function(e){t.clickStudy("right")}}},[t._v("只看正确")]),n("span",{staticClass:"line"}),n("span",{staticClass:"tab",class:{active:"wrong"==t.type},on:{click:function(e){t.clickStudy("wrong")}}},[t._v("只看错误")])])]),n("div",{staticClass:"checkpoint"},[0!=t.topics.length?n("ul",t._l(t.topics,function(e,i){return n("li",{key:e.questionId,staticClass:"li",class:{active:t.activeQuestionIndex==i},on:{click:function(e){t.activeQuestionIndex=i}}},[n("RectProgress",{attrs:{progress:e.erroCount,attr:{init:{text:"正确",color:"#31b68f",progress:0},end:{text:"错误",color:"#FF5555",progress:100}}}}),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("第"+t._s(t.topicIndex(i))+"题")])],1)})):t._e()])])])])]),n("Footer")],1)},o=[],r=(n("7f7f"),n("ac6a"),n("9541")),a=n("a599"),c=n("43a7"),u=n("635f"),l=n("dbcb"),p=n("0ad9"),d=n("71b3"),f=n("335a"),h=n("3439"),v={name:"app",mixins:[r["a"]],data:function(){return{type:"all",list:[],beforeIndex:{all:0,right:0,wrong:0},activeQuestionIndex:0,answersPopup:!1,examInfo:{paperId:"",testingId:"",name:"",topicCount:""}}},methods:{isA3A4B1Done:function(t){var e=this.list[this.activeQuestionIndex];return 3==e.newType?0!=e.a3a4Questions[t].historyAnswer.length:5==e.newType?0!=e.questionArr[t].historyAnswer.length:void 0},lookAnswer:function(){this.answersPopup=!0},positioning:function(t){this.$nextTick(function(e){var n=document.getElementById(t).offsetTop;window.scrollTo(0,n-10)})},selectOption:function(t,e){var n=this.topics[this.activeQuestionIndex];n.hasOwnProperty("questionId")&&n.questionId==t?n.historyAnswer=e:3!=n.newType?5!=n.newType||n.questionArr.forEach(function(i,s){i.questionId!=t||(n.questionArr[s].historyAnswer=e)}):n.a3a4Questions.forEach(function(i,s){i.questionId!=t||(n.a3a4Questions[s].historyAnswer=e)})},previousTopic:function(){if(this.activeQuestionIndex<=0)return this.$message("已经是第一题了"),void(this.activeQuestionIndex=0);this.activeQuestionIndex--},nextTopic:function(){var t=this.topics.length;if(this.activeQuestionIndex>=t-1)return this.$message("已经是最后一题了"),void(this.activeQuestionIndex=t-1);this.activeQuestionIndex++},rectProgress:function(t){if(1==t.newType)return 0===t.historyAnswer.length?0:100;var e=0;if(3==t.newType){for(var n=t.a3a4Questions.length,i=0;i<n;i++)0!=t.a3a4Questions[i].historyAnswer.length&&(e+=100/n);return e}if(5==t.newType){for(var s=t.questionArr.length,o=0;o<s;o++)0!=t.questionArr[o].historyAnswer.length&&(e+=100/s);return e}return 0},topicIndex:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.topics[t];if(1==n.newType)return e?[n.index]:n.index;if(3==n.newType){var i=n.a3a4Questions[0].index;if(e){var s=[];return n.a3a4Questions.forEach(function(t){s.push(t.index)}),s}return i+"~"+(i+(n.a3a4Questions.length-1))}return 5==n.newType?e?n.indexs:n.indexs[0]+"~"+n.indexs[n.indexs.length-1]:void 0},clickStudy:function(t){this.beforeIndex[this.type]=this.activeQuestionIndex,this.type=t}},mounted:function(){},computed:{topics:function(){return this.activeQuestionIndex=this.beforeIndex[this.type],0==this.list.length?[]:"all"==this.type?this.list:"right"==this.type?this.list.filter(function(t){return 0==t.erroCount}):"wrong"==this.type?this.list.filter(function(t){return t.erroCount>0}):void 0}},created:function(){var t=f["a"].get(h["a"].storageExamHistoryKey);t?(this.examInfo.paperId=t.paperId,this.examInfo.testingId=t.testingId,this.examInfo.name=t.name,this.examInfo.topicCount=t.topicCount,this.list=t.topics,this.type=Object(p["e"])("type"),this.beforeIndex[this.type]=Object(p["e"])("index")):window.back()},components:{Breadcrumb:u["a"],DoTopic:a["a"],RectProgress:c["a"],AnswersPopup:l["a"],EmptyTemplate:d["a"]}},x=v,y=n("2877"),g=Object(y["a"])(x,s,o,!1,null,null,null);g.options.__file="Index.vue";var m=g.exports;n("20c7"),n("b7f1"),n("b419");new i["default"]({render:function(t){return t(m)}}).$mount("#app")},5:function(t,e,n){t.exports=n("286d")}});
//# sourceMappingURL=examHistory.dd2536d9.js.map